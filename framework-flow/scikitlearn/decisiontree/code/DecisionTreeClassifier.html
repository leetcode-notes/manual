

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DecisionTreeClassifier &mdash; Machine-Manual-ja 17.06.Beta ドキュメント</title>
  

  
  
    <link rel="shortcut icon" href="../../../../_static/showreel.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="../../../../genindex.html"/>
        <link rel="search" title="検索" href="../../../../search.html"/>
    <link rel="top" title="Machine-Manual-ja 17.06.Beta ドキュメント" href="../../../../index.html"/>
        <link rel="up" title="decisiontree" href="../decisiontree.html"/>
        <link rel="next" title="decisiontree decimationtree_codeexa" href="decimationtree_codeexa.html"/>
        <link rel="prev" title="decisiontree" href="../decisiontree.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> Machine-Manual-ja
          

          
          </a>

          
            
            
              <div class="version">
                17.06.Beta
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../CG/CG.html">CG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../algorithm/algorytm.html">algorytm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../framework-compare/compare.html">framework 比較</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../framework.html">framework workflow</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../CUDA/CUDA.html">CUDA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../Ensemble/Ensemble.html">Ensemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../GA/GeneticAlgorithm.html">GeneticAlgorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../PyTorch/PyTorch.html">PyTorch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../TensorFlow/tensorflow.html">TensorFlow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../anaconda/anaconda.html">anaconda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../collab/collab.html">collaboratory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../jupyter/jupyter.html">jupyter notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../keras/keras.html">keras</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../matplotlib/matplotlib.html">matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../metrics/metrics.html">metrics 評価関数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../numpy/numpy.html">numpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../pandas/pandas.html">pandas</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../scikitlearn.html">scikitlearn</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../CV/CV.html">CV</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../category/category.html">category</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../chatsheat/cheatsheat.html">cheatsheat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cheatsheat/algorythm_cheatsheat.html">algorythm_chatsheat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../code/fit_perceptron.html">scikitlearn fit_perceptron</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../code/lenear-argebra.html">scikitlearn lenear-argebra</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../code/linear_regression.html">scikitlearn linear_regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../code/minMatrrixScalor.html">scikitlearn minMatrrixScalor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../code/standardScolor.html">scikitlearn standardScolor</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../decisiontree.html">decisiontree</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">DecisionTreeClassifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="decimationtree_codeexa.html">decisiontree decimationtree_codeexa</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisiontree.html">decisiontree decisiontree</a></li>
<li class="toctree-l4"><a class="reference internal" href="decisiontree_mshinoda88.html">scikitlearn decision tree</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../make_classification/make_classification.html">scikitlearn make_classification make_classification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../okanalyst_analyst/lesson_predict_stock.html">scikitlearn lesson_predict_stock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../okanalyst_analyst/lesson_sklearn.html">scikitlearn lesson_sklearn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../version/version_error.html">ImportError: No module named 'sklearn.cross_validation'の対処</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../scikitlearn.html#scikit-learn">Scikit-learn で線形回帰</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../seaborn/seaborn.html">seaborn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../yellowbrick/yellowbrick.html">yellowbrick</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../image/image.html">image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../kaggle/kaggle.html">kaggle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mindmap/mindmap.html">mindmap png</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ml-scratch/ml-sctatch.html">ml scratch スクラッチでの実装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nlp/nlp.html">nlp 自然言語処理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../scientist_statistics/scientist.html">Data Scientist 統計学</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../web/web.html">web application framework etc</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../index.html">Machine-Manual-ja</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../../../framework.html">framework workflow</a> &raquo;</li>
      
        <li><a href="../../scikitlearn.html">scikitlearn</a> &raquo;</li>
      
        <li><a href="../decisiontree.html">decisiontree</a> &raquo;</li>
      
    <li>DecisionTreeClassifier</li>
    <li class="wy-breadcrumbs-aside">
      
          <a href="https://github.com/framework-flow/scikitlearn/decisiontree/code/DecisionTreeClassifier.rst" class="fa fa-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="decisiontreeclassifier">
<h1>DecisionTreeClassifier<a class="headerlink" href="#decisiontreeclassifier" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="sidebar">
<p class="sidebar-title">目次</p>
<div class="contents local topic" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#link-jupyter" id="id2">Link(参考リンク・jupyterリンク等)</a></p></li>
</ul>
</div>
</div>
<p>scikit - learnで決定木分析(CART法)</p>
<ul class="simple">
<li><p>決定木分析(DecisionTreeAnalysis) は、機械学習の手法の一つで決定木と呼ばれる、</p></li>
</ul>
<p>木を逆にしたようなデータ構造を用いて分類と回帰を行います。なお、決定木分析は、ノンパラメトリックな教師あり学習に分類されます。</p>
<ul class="simple">
<li><p>決定木分析の長所</p></li>
</ul>
<p>決定木分析は他の分析手法と比較して、以下の特長があります。</p>
<p>入力データから特徴を学習し、決定木と呼ばれる樹木状の構造で学習結果を視覚化でき、ルールをシンプルに表現できる特徴があります。
他の多くの手法では、データの標準化(正規化)
やダミー変数の作成を必要とするのに対し、決定木分析では、このような前処理の手間がほとんど不要です。
カテゴリカルデータ(名義尺度の変数)
と数値データ(順序尺度、間隔尺度の変数) の両方を扱うことが可能です。
ニューラルネットなどのようなブラックボックスのモデルと比較して、決定木はホワイトボックスのモデルだといえ、論理的に解釈することが容易です。
検定を行って、作成したモデルの正しさを評価することが可能です。
主要な決定木分析のアルゴリズム
決定木分析には、いくつかの手法が存在します。各手法の違いについて以下に述べます。</p>
<dl class="simple">
<dt>ID3</dt><dd><p>ID3(IterativeDichotomiser3) は、1986年に、RossQuinlanによって開発されました。
カテゴリカル変数に対して情報量を用いて、貪欲な手法(≒ あるステップにおいて局所的に評価の高いパターンを選択する) で木を構築します。</p>
</dd>
<dt>C4.5</dt><dd><p>C4.5は、ID3の後継で、数値データの特徴量を動的に離散化するロジックを導入し、全ての特徴量がカテゴリカル変数でなればならないという制約を取り除きました。
C4.5は学習済みの木を if -thenで表されるセットに変換し、評価や枝刈り(決定木における不要な部分(枝)を取り除くこと) に用いられます。</p>
</dd>
<dt>C5.0</dt><dd><p>C5.0はC4.5の改善版で、より少ないメモリ消費で動作するよう、パフォーマンスの改善が行われています。</p>
</dd>
<dt>CART</dt><dd><p>CART(Classification and RegressionTrees) は、C4.5によく類似した手法ですが、数値データで表現される目的変数( = 回帰) にも対応している特徴があります。CART
は、ルールセットを計算するのではなく、バイナリ・ツリーを構築します。なお、scikit - learnは最適化したバージョンのCARTを実装しています。</p>
</dd>
<dt>scikit - learn</dt><dd><p>に実装されている決定木分析
それでは、実際にデータを用いてモデルを作成して、その評価を行いましょう。scikit - learn
では決定木を用いた分類器は、sklearn.tree.DecisionTreeClassifier
というクラスで実装されています。</p>
</dd>
</dl>
<p>sklearn.tree.DecisionTreeClassifier
クラスの書式</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sklearn</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">criterion</span><span class="o">=</span><span class="s1">&#39;gini&#39;</span><span class="p">,</span>
                                    <span class="n">splitter</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">min_samples_split</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                    <span class="n">min_samples_leaf</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_weight_fraction_leaf</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                                    <span class="n">max_features</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                                    <span class="n">max_leaf_nodes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">class_weight</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">presort</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sklearn</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">DecisionTreeClassifier</span>
</pre></div>
</div>
<p>クラスの引数(詳細)</p>
<dl class="simple">
<dt>criterion</dt><dd><p>(string, 任意)
分割する際に利用する品質。ジニ係数を利用する “gini” と情報量を示す “entropy” のいずれかを指定。(省略時は “gini”)</p>
</dd>
<dt>splitter</dt><dd><p>(string, 任意)
各ノードにおいて分割を行う方法を選択。”best” (最適)
または “random” (ランダム最適)
を選択。(省略時は “best”)</p>
</dd>
<dt>max_features</dt><dd><p>(int, float, string または None, 任意)
最適な分割を探索する際に用いる特徴数の最大値。</p>
</dd>
<dt>max_depth</dt><dd><p>(int または None, 任意)
作成する決定木の深さの最大値。 (省略時は None)</p>
</dd>
<dt>min_samples_split</dt><dd><p>(int, 任意)
サンプルを枝に分割する数の際の枝の数の最小値。 (省略時は 2)</p>
</dd>
<dt>min_samples_leaf</dt><dd><p>(int, 任意)
1つのサンプルが属する葉の数の最小値。 (省略時は 1)</p>
</dd>
<dt>min_weight_fraction_leaf</dt><dd><p>(float, 任意)
1つの葉に属する必要のあるサンプルの割合の最小値。 (省略時は 0.0)</p>
</dd>
<dt>max_leaf_nodes</dt><dd><p>(int または None, 任意)
作成する葉の数の最大値。数値を指定した場合は、max_depth
が無視されます。 (省略時は None)</p>
</dd>
<dt>class_weight</dt><dd><p>(dict, list of dicts, “balanced” または None, 任意)
各説明変数に対する重み。 (省略時は None)</p>
</dd>
<dt>random_state</dt><dd><p>(int, RandomState instance or None, 任意)
乱数のシードを指定。指定しない場合は、 np.random
を利用します。 (省略時は None)</p>
</dd>
<dt>presort</dt><dd><p>(bool, 任意)
高速化の目的で事前に入力データのソートを行うかどうか。 (省略時は False)</p>
</dd>
</dl>
<div class="section" id="link-jupyter">
<h2><a class="toc-backref" href="#id2">Link(参考リンク・jupyterリンク等)</a><a class="headerlink" href="#link-jupyter" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference external" href="https://pythondatascience.plavox.info/scikit-learn/scikit-learn%E3%81%A7%E6%B1%BA%E5%AE%9A%E6%9C%A8%E5%88%86%E6%9E%90">https://pythondatascience.plavox.info/scikit-learn/scikit-learn%E3%81%A7%E6%B1%BA%E5%AE%9A%E6%9C%A8%E5%88%86%E6%9E%90</a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="decimationtree_codeexa.html" class="btn btn-neutral float-right" title="decisiontree decimationtree_codeexa" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../decisiontree.html" class="btn btn-neutral" title="decisiontree" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2019, Machine Learnning Manual.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'17.06.Beta',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../../_static/language_data.js"></script>
      <script type="text/javascript" src="../../../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>